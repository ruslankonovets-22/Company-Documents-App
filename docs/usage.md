# ğŸ“– Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Company Documents App

**Ğ’ĞµÑ€ÑĞ¸Ñ:** v0.0.2.6  
**Ğ”Ğ°Ñ‚Ğ° Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ñ:** 2025-06-24

---

## Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°

1. **Documents app** â†’ **New Document**
2. Ğ—Ğ°Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚Ğµ:
   - **Project:** Ğ²Ñ‹Ğ±ĞµÑ€Ğ¸Ñ‚Ğµ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚
   - **Level 1:** "Contracts"
   - **Level 2:** "2025"
   - **Deadline (days):** ĞºĞ¾Ğ»Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğ¾ Ğ´Ğ½ĞµĞ¹ Ğ´Ğ¾ Ğ´ĞµĞ´Ğ»Ğ°Ğ¹Ğ½Ğ° (Ğ¾Ğ¿Ñ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾)
3. **Files** â†’ **Add Row** â†’ Ğ·Ğ°Ğ³Ñ€ÑƒĞ·Ğ¸Ñ‚Ğµ Ñ„Ğ°Ğ¹Ğ»
4. **Save**

â†’ Ğ˜Ğ¼Ñ: `DOC-2025-00001` âœ…  
â†’ Ğ¤Ğ°Ğ¹Ğ» Ğ² NextCloud: `Projects/ProjectName/Contracts/2025/file.pdf` âœ…

---

## ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğµ Ğ²Ñ‹Ñ‡Ğ¸ÑĞ»ĞµĞ½Ğ¸Ñ (validate hook)

ĞŸÑ€Ğ¸ ÑĞ¾Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ğ¸ Document Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸ Ñ€Ğ°ÑÑÑ‡Ğ¸Ñ‚Ñ‹Ğ²Ğ°ÑÑ‚ÑÑ:

### 1. planned_end_date (Ğ¿Ğ»Ğ°Ğ½Ğ¾Ğ²Ğ°Ñ Ğ´Ğ°Ñ‚Ğ° Ğ·Ğ°Ğ²ĞµÑ€ÑˆĞµĞ½Ğ¸Ñ)

```
planned_end_date = creation + deadline_days
```

**ĞŸÑ€Ğ¸Ğ¼ĞµÑ€:**
- Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚ ÑĞ¾Ğ·Ğ´Ğ°Ğ½: 2025-06-24
- deadline = 30 Ğ´Ğ½ĞµĞ¹
- planned_end_date = 2025-07-24

### 2. files_count (ĞºĞ¾Ğ»Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğ¾ Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ²)

ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸ Ğ¿Ğ¾Ğ´ÑÑ‡Ğ¸Ñ‚Ñ‹Ğ²Ğ°ĞµÑ‚ÑÑ ĞºĞ¾Ğ»Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğ¾ ÑÑ‚Ñ€Ğ¾Ğº Ğ² child table `files`.

### 3. overdue (Ğ¿Ñ€Ğ¾ÑÑ€Ğ¾Ñ‡ĞµĞ½)

```
overdue = 1, ĞµÑĞ»Ğ¸ today > planned_end_date
overdue = 0, ĞµÑĞ»Ğ¸ today <= planned_end_date Ğ¸Ğ»Ğ¸ planned_end_date Ğ¿ÑƒÑÑ‚Ğ¾
```

ĞŸĞ¾Ğ»Ğµ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ÑĞµÑ‚ÑÑ Ğ¿Ñ€Ğ¸ ĞºĞ°Ğ¶Ğ´Ğ¾Ğ¼ ÑĞ¾Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ğ¸ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°.

---

## ĞŸÑ€ÑĞ¼Ñ‹Ğµ ÑÑÑ‹Ğ»ĞºĞ¸ Ğ½Ğ° Ñ„Ğ°Ğ¹Ğ»Ñ‹ NextCloud

ĞŸĞ¾ÑĞ»Ğµ ÑĞ¸Ğ½Ñ…Ñ€Ğ¾Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸ Ğ¿Ğ¾Ğ»Ğµ `file_url` ÑĞ¾Ğ´ĞµÑ€Ğ¶Ğ¸Ñ‚ Ğ¿Ñ€ÑĞ¼ÑƒÑ ÑÑÑ‹Ğ»ĞºÑƒ Ğ½Ğ° Ñ„Ğ°Ğ¹Ğ»:

```
/apps/files/files/12345?openfile=true
```

**Ğ’Ğ°Ğ¶Ğ½Ğ¾:** Ğ¡ÑÑ‹Ğ»ĞºĞ° Ğ¾Ñ‚ĞºÑ€Ñ‹Ğ²Ğ°ĞµÑ‚ Ğ¸Ğ¼ĞµĞ½Ğ½Ğ¾ Ñ„Ğ°Ğ¹Ğ», Ğ° Ğ½Ğµ Ğ¿Ğ°Ğ¿ĞºÑƒ (Ğ² Ğ¾Ñ‚Ğ»Ğ¸Ñ‡Ğ¸Ğµ Ğ¾Ñ‚ Ğ¿Ñ€ĞµĞ´Ñ‹Ğ´ÑƒÑ‰Ğ¸Ñ… Ğ²ĞµÑ€ÑĞ¸Ğ¹).

---

## Ğ˜Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğµ ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ñ‹ Ğ¿Ğ°Ğ¿Ğ¾Ğº

Ğ•ÑĞ»Ğ¸ Ğ¸Ğ·Ğ¼ĞµĞ½Ğ¸Ñ‚ÑŒ `Level 2` Ğ½Ğ° "Archive":

1. Ğ¤Ğ°Ğ¹Ğ»Ñ‹ **Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸ Ğ¿ĞµÑ€ĞµĞ¼ĞµÑÑ‚ÑÑ‚ÑÑ** Ğ² NextCloud
2. Ğ¡Ñ‚Ğ°Ñ€Ğ°Ñ Ğ¿Ğ°Ğ¿ĞºĞ° ÑƒĞ´Ğ°Ğ»Ğ¸Ñ‚ÑÑ (ĞµÑĞ»Ğ¸ Ğ¿ÑƒÑÑ‚Ğ°Ñ)
3. `file_url` Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑÑ Ñ Ğ½Ğ¾Ğ²Ñ‹Ğ¼ `file_id`

---

## Ğ£Ğ´Ğ°Ğ»ĞµĞ½Ğ¸Ğµ Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ²

1. ĞÑ‚ĞºÑ€Ğ¾Ğ¹Ñ‚Ğµ Document
2. Files â†’ ÑƒĞ´Ğ°Ğ»Ğ¸Ñ‚Ğµ ÑÑ‚Ñ€Ğ¾ĞºÑƒ
3. Save

â†’ Ğ¤Ğ°Ğ¹Ğ» **Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸ ÑƒĞ´Ğ°Ğ»Ğ¸Ñ‚ÑÑ** Ğ¸Ğ· NextCloud âœ…

---

## Workspace

ĞŸĞ¾ÑĞ»Ğµ ÑƒÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ¸ Ğ² Ğ»ĞµĞ²Ğ¾Ğ¼ Ğ¼ĞµĞ½Ñ Ğ¿Ğ¾ÑĞ²Ğ»ÑĞµÑ‚ÑÑ **Documents App** Ñ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ¾Ğ¼ Ğº:

- Document (ÑĞ¿Ğ¸ÑĞ¾Ğº Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ¾Ğ²)
- Folder Structure Template (ÑˆĞ°Ğ±Ğ»Ğ¾Ğ½Ñ‹ Ğ¿Ğ°Ğ¿Ğ¾Ğº)
- NextCloud Sync Settings (Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸ ÑĞ¸Ğ½Ñ…Ñ€Ğ¾Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸)

---

## ĞŸĞ¾Ğ»ĞµĞ·Ğ½Ñ‹Ğµ ÑÑÑ‹Ğ»ĞºĞ¸

- [DOCUMENT_LOGIC.md](DOCUMENT_LOGIC.md) â€” Ğ´ĞµÑ‚Ğ°Ğ»ÑŒĞ½Ğ°Ñ Ğ»Ğ¾Ğ³Ğ¸ĞºĞ° Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸
- [NEXTCLOUD_SYNC.md](NEXTCLOUD_SYNC.md) â€” ÑĞ¸Ğ½Ñ…Ñ€Ğ¾Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ñ NextCloud
- [configuration.md](configuration.md) â€” Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ° NextCloud
