# üîß Fixtures –≤ Company Documents App: –ß—Ç–æ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è

**–í–µ—Ä—Å–∏—è:** v0.0.2.4  
**–î–∞—Ç–∞:** 2025-11-23  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –û–ø–∏—Å–∞–Ω–∏–µ –í–°–ï–ì–û —á—Ç–æ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ fixtures –∏ –ö–ê–ö —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

---

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [–ß—Ç–æ —Ç–∞–∫–æ–µ Fixtures –∏ –∑–∞—á–µ–º](#1-—á—Ç–æ-—Ç–∞–∫–æ–µ-fixtures-–∏-–∑–∞—á–µ–º)
2. [–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è: —á—Ç–æ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ–º](#2-–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è-—á—Ç–æ-—ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ–º)
3. [–ß—Ç–æ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è: –æ–±–∑–æ—Ä](#3-—á—Ç–æ-—É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è-–æ–±–∑–æ—Ä)
4. [–ö—Ä–∏—Ç–∏—á–Ω—ã–µ –ø–æ–ª—è](#4-–∫—Ä–∏—Ç–∏—á–Ω—ã–µ-–ø–æ–ª—è)
5. [–ú–µ—Ö–∞–Ω–∏–∑–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è](#5-–º–µ—Ö–∞–Ω–∏–∑–º-–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è)
6. [–î–µ—Ç–∞–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ fixtures](#6-–¥–µ—Ç–∞–ª—å–Ω–∞—è-—Ç–∞–±–ª–∏—Ü–∞-fixtures)
7. [–í—ã–≤–æ–¥—ã](#7-–≤—ã–≤–æ–¥—ã)

---

## 1. –ß—Ç–æ —Ç–∞–∫–æ–µ Fixtures –∏ –∑–∞—á–µ–º

**Fixtures** - –º–µ—Ö–∞–Ω–∏–∑–º Frappe –¥–ª—è –ø–µ—Ä–µ–Ω–æ—Å–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –º–µ–∂–¥—É –∏–Ω—Å—Ç–∞–ª–ª—è—Ü–∏—è–º–∏.

### –°—É—Ç—å –ø–æ–¥—Ö–æ–¥–∞

```
–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ (UI) ‚Üí Export ‚Üí JSON —Ñ–∞–π–ª—ã ‚Üí Git ‚Üí Import ‚Üí Production
```

**–ß—Ç–æ –ø–æ–ø–∞–¥–∞–µ—Ç –≤ fixtures:**
- –°—Ç—Ä—É–∫—Ç—É—Ä–∞ DocTypes (–ø–æ–ª—è, –ø—Ä–∞–≤–∞, —Å–≤—è–∑–∏)
- Server Scripts (Python –∫–æ–¥ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ)
- Client Scripts (JavaScript –≤ –±—Ä–∞—É–∑–µ—Ä–µ)
- –®–∞–±–ª–æ–Ω—ã –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

**–ß—Ç–æ –ù–ï –ø–æ–ø–∞–¥–∞–µ—Ç:**
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ (Document, Task, Project)
- –§–∞–π–ª—ã
- –õ–æ–≥–∏

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∏–º–ø–æ—Ä—Ç

–ü—Ä–∏ –∫–æ–º–∞–Ω–¥–µ `bench new-site sitename --install-app company_documents` Frappe:
1. –ß–∏—Ç–∞–µ—Ç `company_documents/hooks.py` ‚Üí `fixtures = [...]`
2. –ù–∞—Ö–æ–¥–∏—Ç JSON —Ñ–∞–π–ª—ã –≤ `company_documents/fixtures/`
3. –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç **–≤—Å—ë** –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ß–∏—Å—Ç–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å –≥–æ—Ç–æ–≤–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π.

---

## 2. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è: —á—Ç–æ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ–º

–§–∞–π–ª: `company_documents/hooks.py` (—Å—Ç—Ä–æ–∫–∏ 18-55)

**–õ–æ–≥–∏–∫–∞:** –ú—ã –≥–æ–≤–æ—Ä–∏–º Frappe "—ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–π –í–°–Å —á—Ç–æ –æ—Ç–Ω–æ—Å–∏—Ç—Å—è –∫ –Ω–∞—à–µ–º—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é"

```python
fixtures = [
    {"dt": "DocType", "filters": [["module", "=", "Documents"]]},
    {"dt": "DocType", "filters": [["module", "=", "Projects"]]},
    {"dt": "Server Script"},
    {"dt": "Client Script"},
    {"dt": "Custom Field", "filters": [["module", "in", ["Documents", "Projects"]]]},
    {"dt": "Property Setter", "filters": [["module", "in", ["Documents", "Projects"]]]},
    {"dt": "Folder Structure Template"},
    {"dt": "Document Naming Rule", "filters": [["document_type", "=", "Document"]]},
    {"dt": "Workspace", "filters": [["title", "=", "Documents App"]]}
]
```

**–ü—Ä–∏–Ω—Ü–∏–ø:** –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ–º –í–°–Å —á—Ç–æ:
- –ò–º–µ–µ—Ç `module = "Documents"` –∏–ª–∏ `module = "Projects"`
- –ò–õ–ò —è–≤–ª—è–µ—Ç—Å—è Server/Client Script (–Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç –º–æ–¥—É–ª—è)
- –ò–õ–ò —è–≤–ª—è–µ—Ç—Å—è Folder Structure Template / Naming Rule / Workspace

---

## 3. –ß—Ç–æ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è: –æ–±–∑–æ—Ä

| Fixture | –§–∞–π–ª | –†–∞–∑–º–µ—Ä | –ó–∞–ø–∏—Å–µ–π | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|---------|------|--------|---------|------------|
| DocType | doctype.json | 82 KB | 5 | –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ë–î (—Ç–∞–±–ª–∏—Ü—ã, –ø–æ–ª—è, –ø—Ä–∞–≤–∞) |
| Server Script | server_script.json | 18 KB | 6 | Python –ª–æ–≥–∏–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ |
| Client Script | client_script.json | 13 KB | 7 | JavaScript –ª–æ–≥–∏–∫–∞ –≤ –±—Ä–∞—É–∑–µ—Ä–µ |
| Folder Structure Template | folder_structure_template.json | 17 KB | 45 | –ò–µ—Ä–∞—Ä—Ö–∏—è –ø–∞–ø–æ–∫ (3 –∫–æ—Ä–Ω–µ–≤—ã—Ö + 42 –¥–æ—á–µ—Ä–Ω–∏—Ö) |
| Document Naming Rule | document_naming_rule.json | 282 B | 1 | –ü—Ä–∞–≤–∏–ª–æ –∞–≤—Ç–æ–Ω—É–º–µ—Ä–∞—Ü–∏–∏ DOC-2025-00001 |
| Custom Field | custom_field.json | 2 B | 0 | –ü—É—Å—Ç–æ (–Ω–µ—Ç –∫–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö DocTypes) |
| Property Setter | property_setter.json | 2 B | 0 | –ü—É—Å—Ç–æ |
| Workspace | workspace.json | 2.4 KB | 1 | UI –º–µ–Ω—é "Documents App" |

**–û–±—â–∏–π –æ–±—ä—ë–º:** ~132 KB, 65 –∑–∞–ø–∏—Å–µ–π

### –ü–æ—Ä—è–¥–æ–∫ –∏–º–ø–æ—Ä—Ç–∞

Frappe –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç **—Å—Ç—Ä–æ–≥–æ –≤ –ø–æ—Ä—è–¥–∫–µ** –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –≤ `hooks.py`:

```
DocTypes ‚Üí Server Scripts ‚Üí Client Scripts ‚Üí FST ‚Üí Naming Rule ‚Üí Workspace
   ‚Üì           ‚Üì                ‚Üì              ‚Üì         ‚Üì            ‚Üì
  –ë–î       –°–µ—Ä–≤–µ—Ä–Ω–∞—è       UI –ª–æ–≥–∏–∫–∞      –®–∞–±–ª–æ–Ω—ã   –ù—É–º–µ—Ä–∞—Ü–∏—è     –ú–µ–Ω—é
         –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è
```

**–í–∞–∂–Ω–æ:** DocTypes **–≤—Å–µ–≥–¥–∞ –ø–µ—Ä–≤—ã–º–∏** - –æ—Å—Ç–∞–ª—å–Ω—ã–µ –∑–∞–≤–∏—Å—è—Ç –æ—Ç –Ω–∏—Ö.

---

## 4. –ö—Ä–∏—Ç–∏—á–Ω—ã–µ –ø–æ–ª—è

**–ò–∑–º–µ–Ω—è–µ–º—ã–µ –ø–æ–ª—è:**

| Fixture | –ü–æ–ª–µ | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ | –ò–∑–º–µ–Ω—è–µ—Ç—Å—è –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏? |
|---------|------|------------|-------------------------------|
| Document Naming Rule | `counter` | –°—á—ë—Ç—á–∏–∫ –Ω—É–º–µ—Ä–∞—Ü–∏–∏ | ‚úÖ **–î–ê** - –∫–∞–∂–¥—ã–π –Ω–æ–≤—ã–π Document |
| Folder Structure Template | `order` | –ü–æ—Ä—è–¥–æ–∫ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ | ‚ùå –ù–ï–¢ - —Å—Ç–∞—Ç–∏—á–Ω—ã–π |
| Server/Client Script | `disabled`/`enabled` | –°—Ç–∞—Ç—É—Å –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ | ‚ö†Ô∏è **–ò–Ω–æ–≥–¥–∞** - —á–µ—Ä–µ–∑ UI |

**‚ö†Ô∏è –ü—Ä–æ–±–ª–µ–º–∞ —Å counter:** Fixture —Å–æ–¥–µ—Ä–∂–∏—Ç `counter: 45` –∏–∑ development ‚Üí –ø–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø–µ—Ä–≤—ã–π –¥–æ–∫—É–º–µ–Ω—Ç –±—É–¥–µ—Ç DOC-2025-00046 –≤–º–µ—Å—Ç–æ DOC-2025-00001.

**–†–µ—à–µ–Ω–∏–µ:** –î–ª—è production –ø–µ—Ä–µ–¥ —Ä–µ–ª–∏–∑–æ–º –Ω—É–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å counter –Ω–∞ 0 –≤ fixture. –ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ –≤ [NAMING_MECHANISM.md](./NAMING_MECHANISM.md).

---

## 5. –ú–µ—Ö–∞–Ω–∏–∑–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

**–ü—Ä–∏ –ø–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∫–µ (`install-app`):**

1. **–°–æ–∑–¥–∞–Ω–∏–µ DocTypes –≤ –ë–î** (–µ—Å–ª–∏ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç)
2. **–ò–º–ø–æ—Ä—Ç fixtures:**
   - Frappe —á–∏—Ç–∞–µ—Ç `hooks.py` ‚Üí —Å–ø–∏—Å–æ–∫ fixtures
   - –î–ª—è –∫–∞–∂–¥–æ–≥–æ fixture —á–∏—Ç–∞–µ—Ç JSON —Ñ–∞–π–ª
   - –ï—Å–ª–∏ –∑–∞–ø–∏—Å—å —Å—É—â–µ—Å—Ç–≤—É–µ—Ç ‚Üí –æ–±–Ω–æ–≤–ª—è–µ—Ç
   - –ï—Å–ª–∏ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç ‚Üí —Å–æ–∑–¥–∞—ë—Ç –Ω–æ–≤—É—é
3. **‚ö†Ô∏è –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å:** –ó–Ω–∞—á–µ–Ω–∏—è –ø–æ–ª–µ–π (–≤–∫–ª—é—á–∞—è `counter`) –∏–º–ø–æ—Ä—Ç–∏—Ä—É—é—Ç—Å—è –∫–∞–∫ –µ—Å—Ç—å –∏–∑ JSON.

**–°–±—Ä–æ—Å —Å—á—ë—Ç—á–∏–∫–∞:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `frappe.delete_doc("Document Naming Rule", force=1)` + —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Å `counter=0`. –°–º. [NAMING_MECHANISM.md](./NAMING_MECHANISM.md) ‚Üí —Å–µ–∫—Ü–∏—è "–û–±–Ω—É–ª–µ–Ω–∏–µ —Å—á—ë—Ç—á–∏–∫–∞".

**–≠–∫—Å–ø–æ—Ä—Ç fixtures –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π:**
```bash
docker compose exec backend bench --site localhost export-fixtures
```

**‚ö†Ô∏è –ü–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å `counter` –≤ document_naming_rule.json - –≤–æ–∑–º–æ–∂–Ω–æ –Ω—É–∂–Ω–æ –æ–±–Ω—É–ª–∏—Ç—å.

---

## 6. –î–µ—Ç–∞–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ fixtures

| Fixture | –§–∞–π–ª | –†–∞–∑–º–µ—Ä | –ó–∞–ø–∏—Å–µ–π | –ö—Ä–∏—Ç–∏—á–Ω—ã–µ –ø–æ–ª—è | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|---------|------|--------|---------|----------------|------------|
| DocType | doctype.json | 82 KB | 5 | `name`, `fields`, `permissions` | –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ë–î |
| Server Script | server_script.json | 18 KB | 6 | `disabled`, `script` | –°–µ—Ä–≤–µ—Ä–Ω–∞—è –ª–æ–≥–∏–∫–∞ |
| Client Script | client_script.json | 13 KB | 7 | `enabled`, `script` | –ö–ª–∏–µ–Ω—Ç—Å–∫–∞—è –ª–æ–≥–∏–∫–∞ |
| Folder Structure Template | folder_structure_template.json | 17 KB | 45 | `order`, `parent_*` | –ò–µ—Ä–∞—Ä—Ö–∏—è –ø–∞–ø–æ–∫ |
| Document Naming Rule | document_naming_rule.json | 282 B | 1 | **`counter`** ‚ö†Ô∏è | –ù—É–º–µ—Ä–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ |
| Custom Field | custom_field.json | 2 B | 0 | - | –ö–∞—Å—Ç–æ–º–Ω—ã–µ –ø–æ–ª—è (–ø—É—Å—Ç–æ) |
| Property Setter | property_setter.json | 2 B | 0 | - | –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–ª–µ–π (–ø—É—Å—Ç–æ) |
| Workspace | workspace.json | 2.4 KB | 1 | `links` | UI –º–µ–Ω—é |

**–û–±—â–∏–π —Ä–∞–∑–º–µ—Ä:** ~132 KB (65 –∑–∞–ø–∏—Å–µ–π)

---

## 7. –í—ã–≤–æ–¥—ã

**–ö–ª—é—á–µ–≤—ã–µ –º–æ–º–µ–Ω—Ç—ã:**

1. ‚úÖ Fixtures –∏–º–ø–æ—Ä—Ç–∏—Ä—É—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ `--install-app`
2. ‚ö†Ô∏è `counter` –≤ Document Naming Rule —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –∏–∑ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ ‚Üí –Ω—É–∂–Ω–æ —Å–±—Ä–∞—Å—ã–≤–∞—Ç—å –≤—Ä—É—á–Ω—É—é
3. ‚úÖ Server Scripts –º–æ–≥—É—Ç –±—ã—Ç—å `disabled: 1` ‚Üí –∞–∫—Ç–∏–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ –≤ `nextcloud_sync.py`
4. ‚ö†Ô∏è –£–¥–∞–ª–µ–Ω–∏–µ –∏–∑ tabSeries –ù–ï —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç —Å—á—ë—Ç—á–∏–∫ ‚Üí –Ω—É–∂–Ω–æ —É–¥–∞–ª—è—Ç—å —Å–∞–º Document Naming Rule

**–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:**
```bash
# –≠–∫—Å–ø–æ—Ä—Ç –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π
bench export-fixtures

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Ä—è–¥–∫–∞ FST
python3 scripts/validate_fst_order.py
```

**–ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏:**
- –ù—É–º–µ—Ä–∞—Ü–∏—è: [NAMING_MECHANISM.md](./NAMING_MECHANISM.md)
- –£—Å—Ç–∞–Ω–æ–≤–∫–∞: [../installation.md](../installation.md)

---

**–í–µ—Ä—Å–∏—è:** 1.1 (–∫—Ä–∞—Ç–∫–∞—è)
